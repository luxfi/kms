# Google Cloud KMS HSM Configuration
# Copy this file to .env and fill in your values

# HSM Configuration
HSM_ENABLED=true
HSM_PROVIDER=google-cloud

# Google Cloud Project Configuration
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_LOCATION=global
GOOGLE_CLOUD_KEY_RING=lux-kms-keyring
GOOGLE_CLOUD_CRYPTO_KEY=lux-kms-key

# Service Account Credentials
# Path to service account JSON key file
GOOGLE_APPLICATION_CREDENTIALS=/path/to/lux-kms-credentials.json

# Protection Level (HSM or SOFTWARE)
# HSM: Hardware-backed, FIPS 140-2 Level 3 validated (recommended for production)
# SOFTWARE: Software-backed (for development/testing)
GOOGLE_CLOUD_PROTECTION_LEVEL=HSM

# Automatic Key Rotation
# Enable automatic key rotation (recommended)
GOOGLE_CLOUD_AUTO_ROTATE=true

# Rotation period in seconds
# Default: 7776000s (90 days)
# Minimum: 86400s (1 day)
# Options: 2592000s (30 days), 7776000s (90 days), 31536000s (365 days)
GOOGLE_CLOUD_ROTATION_PERIOD=7776000s

# Multi-Region Failover (optional)
# Comma-separated list of fallback regions
# GOOGLE_CLOUD_FALLBACK_LOCATIONS=us-west1,europe-west1

# Lux KMS Application Configuration
PORT=8080
NODE_ENV=production

# Database Configuration
DB_CONNECTION_URI=postgresql://user:password@localhost:5432/lux_kms

# Redis Configuration (for caching)
REDIS_URL=redis://localhost:6379

# Monitoring (optional)
ENABLE_METRICS=true
METRICS_PORT=9090

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Security
# JWT secret for API authentication
JWT_SECRET=your-secure-random-secret-here

# API rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
